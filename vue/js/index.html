<html>
    <head>
        <script src="vue.3.5.js"></script>
        <script src="axios.min.js"></script>
        <link rel="stylesheet" type="text/css" href="ui.css"> </link>
    </head>
    <body>
        <div class="outer">
            <div style="width:1250px; " id="app">
                <button @click="testClick" > Test </button>
                <StockTable style='width:700px; '  ref="stable" url="http://localhost:8080/lhb?day=20260202" day="2026-02-02"
                            :columns ="columns" :datas-x ="datas" @dblclick-row="dbRow">
                </StockTable>
            </div>
        </div>
    </body>

<script type="module">
    import {StockTable, PopupWindow} from './ui.js'
    // const { createApp } = Vue;
    var app = Vue.createApp({
        data() {
            let dd = [];
            for (let i = 0; i < 100; i++) dd.push({code : `code-${i}`, name: 'name-' + i});
            let xbRender = function(h, rowData, c) {return rowData.xb + '-K'}
            return {
                columns: [{key: '_index_', title: '序号', width: 60, style: {'background-color': '#cdcdcd'}},
                            {key: 'code', title: '代码/名称', sortable: true},
                            {key: 'name', title:'名称', sortable: true}],
                datas: dd,
            }
        },
        methods: {
            testClick() {
                console.log('click test button')
                PopupWindow.create();
            },
            dbRow(rowData, column) {
            },
        },
        mounted() {
            console.log('onmounted:', this.$refs.stable);
        }
    });
    
    app.component('stocktable', StockTable);
    app.mount('#app');
</script>
    
</html>